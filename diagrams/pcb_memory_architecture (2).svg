<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 1400 1000"
   version="1.1"
   id="svg198"
   sodipodi:docname="pcb_memory_architecture (2).svg"
   inkscape:version="1.4 (86a8ad7, 2024-10-11)"
   inkscape:export-filename="..\images\pcb_memory_architecture.webp"
   inkscape:export-xdpi="96"
   inkscape:export-ydpi="96"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview198"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.7856897"
     inkscape:cx="1299.4979"
     inkscape:cy="304.3642"
     inkscape:window-width="1920"
     inkscape:window-height="1057"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg198" />
  <defs
     id="defs11">
    <marker
       style="overflow:visible"
       id="Triangle"
       refX="0"
       refY="0"
       orient="auto-start-reverse"
       inkscape:stockid="Triangle arrow"
       markerWidth="1"
       markerHeight="1"
       viewBox="0 0 1 1"
       inkscape:isstock="true"
       inkscape:collect="always"
       preserveAspectRatio="xMidYMid">
      <path
         transform="scale(0.5)"
         style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
         d="M 5.77,0 -2.88,5 V -5 Z"
         id="path135" />
    </marker>
    <pattern
       inkscape:collect="always"
       xlink:href="#stackPattern"
       id="pattern198"
       patternTransform="translate(81.917193,332.2442)" />
    <linearGradient
       id="taskStructGradient"
       x1="32.189325"
       y1="37.776498"
       x2="32.189325"
       y2="481.65035"
       gradientTransform="matrix(0.59025779,0,0,1.694175,68,22)"
       gradientUnits="userSpaceOnUse">
      <stop
         offset="0%"
         style="stop-color:#E3F2FD;stop-opacity:1"
         id="stop1" />
      <stop
         offset="100%"
         style="stop-color:#1976D2;stop-opacity:1"
         id="stop2" />
    </linearGradient>
    <linearGradient
       id="mmStructGradient"
       x1="269.07175"
       y1="78.254219"
       x2="269.07175"
       y2="325.2441"
       gradientTransform="matrix(1.2227222,0,0,0.81784728,62,28)"
       gradientUnits="userSpaceOnUse">
      <stop
         offset="0%"
         style="stop-color:#E8F5E8;stop-opacity:1"
         id="stop3" />
      <stop
         offset="100%"
         style="stop-color:#4CAF50;stop-opacity:1"
         id="stop4" />
    </linearGradient>
    <linearGradient
       id="filesStructGradient"
       x1="217.51008"
       y1="459.82236"
       x2="217.51008"
       y2="659.48207"
       gradientTransform="matrix(1.5123384,0,0,0.69243186,353.29101,-191.02788)"
       gradientUnits="userSpaceOnUse">
      <stop
         offset="0%"
         style="stop-color:#FFF3E0;stop-opacity:1"
         id="stop5" />
      <stop
         offset="100%"
         style="stop-color:#FF9800;stop-opacity:1"
         id="stop6" />
    </linearGradient>
    <linearGradient
       id="signalStructGradient"
       x1="225.5987"
       y1="676.67056"
       x2="225.5987"
       y2="883.75508"
       gradientTransform="matrix(1.4579928,0,0,0.73599266,399.10899,-136.0386)"
       gradientUnits="userSpaceOnUse">
      <stop
         offset="0%"
         style="stop-color:#FCE4EC;stop-opacity:1"
         id="stop7" />
      <stop
         offset="100%"
         style="stop-color:#E91E63;stop-opacity:1"
         id="stop8" />
    </linearGradient>
    <linearGradient
       id="threadStructGradient"
       x1="240.96276"
       y1="865.63583"
       x2="240.96276"
       y2="1086.8235"
       gradientTransform="matrix(1.3653562,0,0,0.73240961,66.304097,-116.95906)"
       gradientUnits="userSpaceOnUse">
      <stop
         offset="0%"
         style="stop-color:#F3E5F5;stop-opacity:1"
         id="stop9" />
      <stop
         offset="100%"
         style="stop-color:#9C27B0;stop-opacity:1"
         id="stop10" />
    </linearGradient>
    <pattern
       id="stackPattern"
       patternUnits="userSpaceOnUse"
       width="4"
       height="4">
      <rect
         width="4"
         height="4"
         fill="#f0f0f0"
         id="rect10" />
      <rect
         width="2"
         height="2"
         fill="#d0d0d0"
         id="rect11" />
    </pattern>
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="0 0, 10 3.5, 0 7"
         fill="#333"
         id="polygon11" />
    </marker>
    <linearGradient
       id="kernelGradient"
       x1="20.902883"
       y1="55.7459"
       x2="20.902883"
       y2="226.51182"
       gradientTransform="matrix(1.4112886,0,0,0.70857229,1099.3061,56.184352)"
       gradientUnits="userSpaceOnUse">
      <stop
         offset="0%"
         style="stop-color:#ff5252;stop-opacity:1"
         id="stop1-0" />
      <stop
         offset="100%"
         style="stop-color:#c62828;stop-opacity:1"
         id="stop2-9" />
    </linearGradient>
    <linearGradient
       id="userGradient"
       x1="34.045993"
       y1="172.86175"
       x2="34.045993"
       y2="451.0002"
       gradientTransform="matrix(0.86647494,0,0,1.1541015,1099.3061,56.184352)"
       gradientUnits="userSpaceOnUse">
      <stop
         offset="0%"
         style="stop-color:#66bb6a;stop-opacity:1"
         id="stop3-4" />
      <stop
         offset="100%"
         style="stop-color:#2e7d32;stop-opacity:1"
         id="stop4-8" />
    </linearGradient>
    <marker
       id="arrowhead-4"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="10,3.5 0,7 0,0 "
         fill="#333333"
         id="polygon11-1" />
    </marker>
    <filter
       style="color-interpolation-filters:sRGB;"
       inkscape:label="Drop Shadow"
       id="filter207"
       x="-0.034103471"
       y="-0.49446263"
       width="1.0771927"
       height="2.1192089">
      <feFlood
         result="flood"
         in="SourceGraphic"
         flood-opacity="0.498039"
         flood-color="rgb(0,0,0)"
         id="feFlood206" />
      <feGaussianBlur
         result="blur"
         in="SourceGraphic"
         stdDeviation="3.000000"
         id="feGaussianBlur206" />
      <feOffset
         result="offset"
         in="blur"
         dx="2.000000"
         dy="2.000000"
         id="feOffset206" />
      <feComposite
         result="comp1"
         operator="in"
         in="flood"
         in2="offset"
         id="feComposite206" />
      <feComposite
         result="comp2"
         operator="over"
         in="SourceGraphic"
         in2="comp1"
         id="feComposite207" />
    </filter>
  </defs>
  <rect
     x="38.215782"
     y="50.633839"
     width="1011.5816"
     height="820.44867"
     fill="#f8f9fa"
     stroke="#333333"
     stroke-width="8.44051"
     rx="33.719387"
     id="rect181-3"
     style="stroke-width:1.32128;stroke-dasharray:none" />
  <!-- Title -->
  <text
     x="675.55713"
     y="36.25803"
     font-family="Arial"
     font-size="18px"
     font-weight="bold"
     text-anchor="middle"
     fill="#333333"
     id="text11"
     style="font-weight:bold;font-size:18px;font-family:Arial;text-anchor:middle;fill:#333333"><tspan
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:26.6667px;font-family:Arial;-inkscape-font-specification:'Arial, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal"
       id="tspan209">Arquitetura Detalhada do PCB **Linux** (task_struct) com Layout de Memória</tspan></text>
  <text
     x="570.55688"
     y="504.15048"
     font-family="Arial"
     font-size="35.1531px"
     font-weight="bold"
     text-anchor="middle"
     fill="#333333"
     id="text11-3"
     transform="scale(0.988727,1.0114015)"
     style="stroke-width:1.95295">PCB</text>
  <!-- Main task_struct -->
  <text
     x="218"
     y="77"
     font-family="Arial"
     font-size="14px"
     font-weight="bold"
     text-anchor="middle"
     fill="#1976d2"
     id="text12">task_struct @ 0xffff888012345000</text>
  <rect
     x="88"
     y="87"
     width="260"
     height="750"
     fill="url(#taskStructGradient)"
     stroke="#1976d2"
     stroke-width="2"
     rx="8"
     id="rect12"
     style="fill:url(#taskStructGradient)" />
  <text
     x="50"
     y="102"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text13"
     style="fill:#000000">+0x00</text>
  <text
     x="50"
     y="142"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text14"
     style="fill:#000000">+0x08</text>
  <text
     x="50"
     y="182"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text15"
     style="fill:#000000">+0x10</text>
  <text
     x="50"
     y="222"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text16"
     style="fill:#000000">+0x18</text>
  <text
     x="50"
     y="262"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text17"
     style="fill:#000000">+0x20</text>
  <text
     x="50"
     y="302"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text18"
     style="fill:#000000">+0x28</text>
  <text
     x="50"
     y="342"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text19"
     style="fill:#000000">+0x30</text>
  <text
     x="50"
     y="382"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text20"
     style="fill:#000000">+0x38</text>
  <text
     x="50"
     y="422"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text21"
     style="fill:#000000">+0x40</text>
  <text
     x="50"
     y="462"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text22"
     style="fill:#000000">+0x48</text>
  <text
     x="50"
     y="502"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text23"
     style="fill:#000000">+0x50</text>
  <text
     x="50"
     y="542"
     font-family="mono"
     font-size="9px"
     fill="#666666"
     id="text24"
     style="fill:#000000">+0x58</text>
  <rect
     x="98"
     y="97"
     width="240"
     height="35"
     fill="#bbdefb"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect24" />
  <text
     x="108"
     y="112"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#0d47a1"
     id="text25">volatile long state</text>
  <text
     x="108"
     y="124"
     font-family="Arial"
     font-size="9px"
     fill="#0d47a1"
     id="text26">/* TASK_RUNNING, TASK_INTERRUPTIBLE, etc */</text>
  <rect
     x="98"
     y="137"
     width="240"
     height="35"
     fill="#90caf9"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect26" />
  <text
     x="108"
     y="152"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#0d47a1"
     id="text27">pid_t pid, tgid, ppid</text>
  <text
     x="108"
     y="164"
     font-family="Arial"
     font-size="9px"
     fill="#0d47a1"
     id="text28">/* Identificadores do processo e grupo */</text>
  <rect
     x="98"
     y="177"
     width="240"
     height="35"
     fill="#64b5f6"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect28" />
  <text
     x="108"
     y="192"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#0d47a1"
     id="text29">struct mm_struct *mm</text>
  <text
     x="108"
     y="204"
     font-family="Arial"
     font-size="9px"
     fill="#0d47a1"
     id="text30">/* Gerenciamento de memória virtual */</text>
  <path
     d="M 336.7813,239.45929 C 439.80112,387.8076 690.59474,395.17367 793.02099,289.65197"
     stroke="#ff9800"
     stroke-width="3.54223"
     marker-end="url(#arrowhead)"
     id="path63"
     sodipodi:nodetypes="cc"
     style="fill:none;stroke-width:1.742;stroke-dasharray:none" />
  <rect
     x="98"
     y="217"
     width="240"
     height="35"
     fill="#42a5f5"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect30" />
  <text
     x="108"
     y="232"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#0d47a1"
     id="text31">struct files_struct *files</text>
  <text
     x="108"
     y="244"
     font-family="Arial"
     font-size="9px"
     fill="#0d47a1"
     id="text32">/* Tabela de descritores de arquivo */</text>
  <rect
     x="98"
     y="257"
     width="240"
     height="35"
     fill="#2196f3"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect32" />
  <text
     x="108"
     y="272"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#0d47a1"
     id="text33">struct signal_struct *signal</text>
  <text
     x="108"
     y="284"
     font-family="Arial"
     font-size="9px"
     fill="#0d47a1"
     id="text34">/* Informações de sinais compartilhadas */</text>
  <rect
     x="98"
     y="297"
     width="240"
     height="35"
     fill="#1e88e5"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect34" />
  <text
     x="108"
     y="312"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#0d47a1"
     id="text35">struct thread_struct thread</text>
  <text
     x="108"
     y="324"
     font-family="Arial"
     font-size="9px"
     fill="#0d47a1"
     id="text36">/* Contexto de `CPU` específico da arquitetura */</text>
  <rect
     x="98"
     y="337"
     width="240"
     height="55"
     fill="#1976d2"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect36" />
  <text
     x="108"
     y="352"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text37">int prio, static_prio, normal_prio</text>
  <text
     x="108"
     y="364"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text38">struct sched_entity se</text>
  <text
     x="108"
     y="376"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text39">/* Informações de escalonamento CFS */</text>
  <text
     x="108"
     y="387"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text40">/* Prioridades dinâmica, estática e normal */</text>
  <rect
     x="98"
     y="397"
     width="240"
     height="35"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect40" />
  <text
     x="108"
     y="412"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text41">const struct cred *cred</text>
  <text
     x="108"
     y="424"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text42">/* Credenciais de segurança (UID/GID) */</text>
  <rect
     x="98"
     y="437"
     width="240"
     height="35"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect42" />
  <text
     x="108"
     y="452"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text43">struct nsproxy *nsproxy</text>
  <text
     x="108"
     y="464"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text44">/* Namespaces (PID, NET, MNT, etc) */</text>
  <rect
     x="98"
     y="477"
     width="240"
     height="35"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect44" />
  <text
     x="108"
     y="492"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text45">struct css_set *cgroups</text>
  <text
     x="108"
     y="504"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text46">/* Control Groups para limitação de recursos */</text>
  <rect
     x="98"
     y="517"
     width="240"
     height="35"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect46" />
  <text
     x="108"
     y="532"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text47">struct list_head tasks</text>
  <text
     x="108"
     y="544"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text48">/* Lista circular de todos os processos */</text>
  <rect
     x="98"
     y="557"
     width="240"
     height="55"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect48" />
  <text
     x="108"
     y="572"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text49">struct task_struct *parent</text>
  <text
     x="108"
     y="584"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text50">struct list_head children</text>
  <text
     x="108"
     y="596"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text51">/* Ponteiro para processo pai */</text>
  <text
     x="108"
     y="607"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text52">/* Lista de processos filhos */</text>
  <rect
     x="98"
     y="617"
     width="240"
     height="35"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect52" />
  <text
     x="108"
     y="632"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text53">int exit_code, exit_signal</text>
  <text
     x="108"
     y="644"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text54">/* Código de saída e sinal para o pai */</text>
  <rect
     x="98"
     y="657"
     width="240"
     height="55"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect54" />
  <text
     x="108"
     y="672"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text55">struct task_struct *group_leader</text>
  <text
     x="108"
     y="684"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text56">struct list_head thread_group</text>
  <text
     x="108"
     y="696"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text57">/* Leader do grupo de threads */</text>
  <text
     x="108"
     y="707"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text58">/* Lista de threads no mesmo processo */</text>
  <rect
     x="98"
     y="717"
     width="240"
     height="55"
     fill="#0d47a1"
     stroke="#1976d2"
     stroke-width="1"
     rx="4"
     id="rect58" />
  <text
     x="108"
     y="732"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text59">u64 utime, stime</text>
  <text
     x="108"
     y="744"
     font-family="mono"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text60">u64 start_time, start_boottime</text>
  <text
     x="108"
     y="756"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text61">/* Tempos de `CPU` user/kernel */</text>
  <text
     x="108"
     y="767"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text62">/* Tempo de início absoluto e relativo */</text>
  <path
     d="m 338,194 h 51.2942"
     stroke="#4caf50"
     stroke-width="2.02571"
     marker-end="url(#arrowhead)"
     id="path62"
     style="stroke-width:1.726;stroke-dasharray:none" />
  <path
     d="M 339.95081,278.55021 C 547.97877,434.21692 444.25324,444.77499 727.06765,442.93596"
     stroke="#e91e63"
     stroke-width="1.91826"
     marker-end="url(#arrowhead)"
     id="path64"
     sodipodi:nodetypes="cc"
     style="fill:none" />
  <path
     d="m 335.62307,317.10415 c 146.20627,22.93439 100.91066,237.7719 106.12002,340.54141"
     stroke="#9c27b0"
     stroke-width="6.52061"
     marker-end="url(#arrowhead)"
     id="path65"
     style="fill:none;stroke-width:1.31489;stroke-dasharray:none"
     sodipodi:nodetypes="cc" />
  <!-- mm_struct detail -->
  <text
     x="542"
     y="83"
     font-family="Arial"
     font-size="12px"
     font-weight="bold"
     text-anchor="middle"
     fill="#4caf50"
     id="text65">mm_struct @ 0xffff888012346000</text>
  <rect
     x="392"
     y="93"
     width="300"
     height="200"
     fill="url(#mmStructGradient)"
     stroke="#4caf50"
     stroke-width="2"
     rx="6"
     id="rect65"
     style="fill:url(#mmStructGradient)" />
  <text
     x="362"
     y="108"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text66"
     style="fill:#000000">+0x00</text>
  <text
     x="362"
     y="133"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text67"
     style="fill:#000000">+0x08</text>
  <text
     x="362"
     y="158"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text68"
     style="fill:#000000">+0x10</text>
  <text
     x="362"
     y="183"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text69"
     style="fill:#000000">+0x18</text>
  <text
     x="362"
     y="208"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text70"
     style="fill:#000000">+0x20</text>
  <text
     x="362"
     y="233"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text71"
     style="fill:#000000">+0x28</text>
  <text
     x="362"
     y="258"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text72"
     style="fill:#000000">+0x30</text>
  <text
     x="362"
     y="283"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text73"
     style="fill:#000000">+0x38</text>
  <rect
     x="402"
     y="103"
     width="280"
     height="20"
     fill="#c8e6c9"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect73" />
  <text
     x="409.15631"
     y="111"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#1b5e20"
     id="text74">struct vm_area_struct *mmap</text>
  <text
     x="409.81989"
     y="120"
     font-family="Arial"
     font-size="7px"
     fill="#1b5e20"
     id="text75">/* Lista de VMAs (regiões de memória virtual) */</text>
  <rect
     x="402"
     y="128"
     width="280"
     height="20"
     fill="#a5d6a7"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect75" />
  <text
     x="409.89459"
     y="136"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#1b5e20"
     id="text76">pgd_t *pgd</text>
  <text
     x="409.81989"
     y="145"
     font-family="Arial"
     font-size="7px"
     fill="#1b5e20"
     id="text77">/* Page Global Directory - raiz da árvore de páginas */</text>
  <rect
     x="402"
     y="153"
     width="280"
     height="20"
     fill="#81c784"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect77" />
  <text
     x="409.42877"
     y="161.75946"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#1b5e20"
     id="text78">atomic_t mm_users, mm_count</text>
  <text
     x="409.81989"
     y="170"
     font-family="Arial"
     font-size="7px"
     fill="#1b5e20"
     id="text79">/* Contadores de referência para o mm_struct */</text>
  <rect
     x="402"
     y="178"
     width="280"
     height="20"
     fill="#66bb6a"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect79" />
  <text
     x="409.68805"
     y="186"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#ffffff"
     id="text80">unsigned long start_code, end_code</text>
  <text
     x="409.81989"
     y="195"
     font-family="Arial"
     font-size="7px"
     fill="#ffffff"
     id="text81">/* Limites da seção de código */</text>
  <rect
     x="402"
     y="203"
     width="280"
     height="20"
     fill="#4caf50"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect81" />
  <text
     x="409.68805"
     y="211"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#ffffff"
     id="text82">unsigned long start_data, end_data</text>
  <text
     x="409.81989"
     y="220"
     font-family="Arial"
     font-size="7px"
     fill="#ffffff"
     id="text83">/* Limites da seção de dados */</text>
  <rect
     x="402"
     y="228"
     width="280"
     height="20"
     fill="#388e3c"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect83" />
  <text
     x="409.68805"
     y="236"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#ffffff"
     id="text84">unsigned long start_brk, brk</text>
  <text
     x="409.81989"
     y="245"
     font-family="Arial"
     font-size="7px"
     fill="#ffffff"
     id="text85">/* Limites do heap (sbrk/brk) */</text>
  <rect
     x="402"
     y="253"
     width="280"
     height="20"
     fill="#2e7d32"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect85" />
  <text
     x="409.68805"
     y="261"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#ffffff"
     id="text86">unsigned long start_stack</text>
  <text
     x="409.81989"
     y="270"
     font-family="Arial"
     font-size="7px"
     fill="#ffffff"
     id="text87">/* Início da stack do processo */</text>
  <rect
     x="402"
     y="278"
     width="280"
     height="10"
     fill="#1b5e20"
     stroke="#4caf50"
     stroke-width="1"
     rx="3"
     id="rect87" />
  <text
     x="409.15973"
     y="285"
     font-family="mono"
     font-size="8px"
     font-weight="bold"
     fill="#ffffff"
     id="text88">/* + muitos outros campos... */</text>
  <!-- files_struct detail -->
  <g
     id="g198"
     transform="translate(46.083825,22.413513)">
    <text
       x="833.21637"
       y="118.39181"
       font-family="Arial"
       font-size="12px"
       font-weight="bold"
       text-anchor="middle"
       fill="#ff9800"
       id="text89">files_struct @ 0xffff888012347000</text>
    <rect
       x="683.23969"
       y="128.41513"
       width="299.95337"
       height="136.15604"
       fill="url(#filesStructGradient)"
       stroke="#ff9800"
       stroke-width="2.04665"
       rx="5.9990673"
       id="rect89"
       style="fill:url(#filesStructGradient)" />
    <text
       x="655.21637"
       y="143.39182"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text90"
       style="fill:#000000">+0x00</text>
    <text
       x="655.21637"
       y="163.39182"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text91"
       style="fill:#000000">+0x08</text>
    <text
       x="655.21637"
       y="183.39182"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text92"
       style="fill:#000000">+0x10</text>
    <text
       x="655.21637"
       y="203.39182"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text93"
       style="fill:#000000">+0x18</text>
    <text
       x="655.21637"
       y="223.39182"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text94"
       style="fill:#000000">+0x20</text>
    <text
       x="655.21637"
       y="243.39182"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text95"
       style="fill:#000000">+0x28</text>
    <rect
       x="693.21637"
       y="138.39182"
       width="280"
       height="20"
       fill="#ffe0b2"
       stroke="#ff9800"
       stroke-width="1"
       rx="3"
       id="rect95" />
    <text
       x="699.89282"
       y="146.80533"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#e65100"
       id="text96">atomic_t count</text>
    <text
       x="700.28394"
       y="155.80533"
       font-family="Arial"
       font-size="7px"
       fill="#e65100"
       id="text97">/* Contador de referências */</text>
    <rect
       x="693.21637"
       y="163.39182"
       width="280"
       height="20"
       fill="#ffcc02"
       stroke="#ff9800"
       stroke-width="1"
       rx="3"
       id="rect97" />
    <text
       x="699.62036"
       y="171.80533"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#e65100"
       id="text98">struct fdtable __rcu *fdt</text>
    <text
       x="700.28394"
       y="180.80533"
       font-family="Arial"
       font-size="7px"
       fill="#e65100"
       id="text99">/* Tabela de file descriptors (RCU protected) */</text>
    <rect
       x="693.21637"
       y="188.39182"
       width="280"
       height="20"
       fill="#ffb74d"
       stroke="#ff9800"
       stroke-width="1"
       rx="3"
       id="rect99" />
    <text
       x="699.62036"
       y="196.80533"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#e65100"
       id="text100">struct file __rcu **fd_array</text>
    <text
       x="700.28394"
       y="205.80533"
       font-family="Arial"
       font-size="7px"
       fill="#e65100"
       id="text101">/* Array de ponteiros para struct file */</text>
    <rect
       x="693.24097"
       y="213.4164"
       width="279.95084"
       height="22.018408"
       fill="#ff9800"
       stroke="#ff9800"
       stroke-width="1.04916"
       rx="2.9994733"
       id="rect101" />
    <text
       x="700.1521"
       y="221.80533"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#ffffff"
       id="text102">unsigned long *close_on_exec</text>
    <text
       x="700.28394"
       y="230.80533"
       font-family="Arial"
       font-size="7px"
       fill="#ffffff"
       id="text103">/* Bitmap dos FDs para fechar no exec */</text>
    <rect
       x="694.16266"
       y="238.92464"
       width="279.76138"
       height="23.031652"
       fill="#f57c00"
       stroke="#ff9800"
       stroke-width="1.23861"
       rx="2.9974434"
       id="rect103" />
    <text
       x="699.78394"
       y="248.80533"
       font-family="mono"
       font-size="8px"
       font-weight="bold"
       fill="#ffffff"
       id="text104">int next_fd, max_fds</text>
    <text
       x="700.28394"
       y="258.80533"
       font-family="Arial"
       font-size="7px"
       fill="#ffffff"
       id="text105">/* Próximo FD livre e máximo */</text>
  </g>
  <!-- signal_struct detail -->
  <text
     x="878.99414"
     y="353.02341"
     font-family="Arial"
     font-size="12px"
     font-weight="bold"
     text-anchor="middle"
     fill="#e91e63"
     id="text106">signal_struct @ 0xffff888012348000</text>
  <rect
     x="729.03003"
     y="363.0593"
     width="299.92822"
     height="150.26604"
     fill="url(#signalStructGradient)"
     stroke="#e91e63"
     stroke-width="2.07179"
     rx="5.9985642"
     id="rect106"
     style="fill:url(#signalStructGradient)" />
  <text
     x="700.9942"
     y="378.02341"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text107"
     style="fill:#000000">+0x00</text>
  <text
     x="700.9942"
     y="398.02341"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text108"
     style="fill:#000000">+0x08</text>
  <text
     x="700.9942"
     y="418.02341"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text109"
     style="fill:#000000">+0x10</text>
  <text
     x="700.9942"
     y="438.02341"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text110"
     style="fill:#000000">+0x18</text>
  <text
     x="700.9942"
     y="458.02341"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text111"
     style="fill:#000000">+0x20</text>
  <text
     x="700.9942"
     y="478.02341"
     font-family="mono"
     font-size="8px"
     fill="#666666"
     id="text112"
     style="fill:#000000">+0x28</text>
  <rect
     x="738.99414"
     y="373.02341"
     width="280"
     height="20"
     fill="#f8bbd9"
     stroke="#e91e63"
     stroke-width="1"
     rx="3"
     id="rect112" />
  <text
     x="743.60303"
     y="381.02341"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#880e4f"
     id="text113">atomic_t count, live</text>
  <text
     x="743.99414"
     y="390.02341"
     font-family="Arial"
     font-size="7px"
     fill="#880e4f"
     id="text114">/* Contadores de referência e threads vivas */</text>
  <rect
     x="738.99414"
     y="398.02341"
     width="280"
     height="20"
     fill="#f48fb1"
     stroke="#e91e63"
     stroke-width="1"
     rx="3"
     id="rect114" />
  <text
     x="743.33057"
     y="406.02341"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#880e4f"
     id="text115">struct k_sigaction action[64]</text>
  <text
     x="743.99414"
     y="415.02341"
     font-family="Arial"
     font-size="7px"
     fill="#880e4f"
     id="text116">/* Handlers para cada sinal (1-64) */</text>
  <rect
     x="738.99414"
     y="423.02341"
     width="280"
     height="20"
     fill="#f06292"
     stroke="#e91e63"
     stroke-width="1"
     rx="3"
     id="rect116" />
  <text
     x="743.33057"
     y="431.02341"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#ffffff"
     id="text117">sigset_t shared_pending.signal</text>
  <text
     x="743.99414"
     y="440.02341"
     font-family="Arial"
     font-size="7px"
     fill="#ffffff"
     id="text118">/* Sinais pendentes para todo o grupo */</text>
  <rect
     x="738.99414"
     y="448.02341"
     width="280"
     height="20"
     fill="#e91e63"
     stroke="#e91e63"
     stroke-width="1"
     rx="3"
     id="rect118" />
  <text
     x="743.33057"
     y="456.02341"
     font-family="mono"
     font-size="9px"
     font-weight="bold"
     fill="#ffffff"
     id="text119">struct list_head shared_pending.list</text>
  <text
     x="743.99414"
     y="465.02341"
     font-family="Arial"
     font-size="7px"
     fill="#ffffff"
     id="text120">/* Lista de siginfo_t pendentes */</text>
  <rect
     x="739.09692"
     y="473.12628"
     width="279.79425"
     height="21.823956"
     fill="#c2185b"
     stroke="#e91e63"
     stroke-width="1.20576"
     rx="2.9977953"
     id="rect120" />
  <text
     x="743.4043"
     y="481.02341"
     font-family="mono"
     font-size="8px"
     font-weight="bold"
     fill="#ffffff"
     id="text121">struct task_struct *curr_target</text>
  <text
     x="743.99414"
     y="491.02341"
     font-family="Arial"
     font-size="7px"
     fill="#ffffff"
     id="text122">/* Thread alvo atual para sinais */</text>
  <rect
     x="740.2196"
     y="495.48953"
     width="279.20285"
     height="16.194725"
     fill="#ad1457"
     stroke="#e91e63"
     stroke-width="1.79715"
     rx="2.9914591"
     id="rect122" />
  <text
     x="743.4165"
     y="505.70715"
     font-family="mono"
     font-size="7px"
     font-weight="bold"
     fill="#ffffff"
     id="text123">/* + rlimits, session, etc */</text>
  <!-- thread_struct detail -->
  <!-- `kernel` Stack -->
  <g
     id="g200"
     transform="translate(-17.54386,157.67251)">
    <text
       x="546.30408"
       y="508.04095"
       font-family="Arial"
       font-size="12px"
       font-weight="bold"
       text-anchor="middle"
       fill="#9c27b0"
       id="text124">thread_struct (x86_64) @ task_struct+0x38</text>
    <rect
       x="396.30411"
       y="518.04095"
       width="300"
       height="160"
       fill="url(#threadStructGradient)"
       stroke="#9c27b0"
       stroke-width="2"
       rx="6"
       id="rect124"
       style="fill:url(#threadStructGradient)" />
    <text
       x="366.45547"
       y="533.04095"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text125"
       style="fill:#1a1a1a">+0x38</text>
    <text
       x="366.45547"
       y="553.04095"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text126"
       style="fill:#1a1a1a">+0x40</text>
    <text
       x="366.45547"
       y="573.04095"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text127"
       style="fill:#1a1a1a">+0x48</text>
    <text
       x="366.45547"
       y="593.04095"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text128"
       style="fill:#1a1a1a">+0x50</text>
    <text
       x="366.45547"
       y="613.04095"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text129"
       style="fill:#1a1a1a">+0x58</text>
    <text
       x="366.45547"
       y="633.04095"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text130"
       style="fill:#1a1a1a">+0x60</text>
    <text
       x="366.45547"
       y="653.04095"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text131"
       style="fill:#1a1a1a">+0x68</text>
    <rect
       x="406.30411"
       y="528.04095"
       width="280"
       height="20"
       fill="#e1bee7"
       stroke="#9c27b0"
       stroke-width="1"
       rx="3"
       id="rect131" />
    <text
       x="410.89059"
       y="537.14636"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#4a148c"
       id="text132">unsigned long sp0</text>
    <text
       x="411.30411"
       y="545.04095"
       font-family="Arial"
       font-size="7px"
       fill="#4a148c"
       id="text133">/* Stack pointer para `kernel` mode (TSS.sp0) */</text>
    <rect
       x="406.30411"
       y="553.04095"
       width="280"
       height="20"
       fill="#ce93d8"
       stroke="#9c27b0"
       stroke-width="1"
       rx="3"
       id="rect133" />
    <text
       x="411.71762"
       y="561.73285"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#4a148c"
       id="text134">unsigned long sp</text>
    <text
       x="411.30411"
       y="570.04095"
       font-family="Arial"
       font-size="7px"
       fill="#4a148c"
       id="text135">/* Stack pointer salvo no context switch */</text>
    <rect
       x="406.30411"
       y="578.04095"
       width="280"
       height="20"
       fill="#ba68c8"
       stroke="#9c27b0"
       stroke-width="1"
       rx="3"
       id="rect135" />
    <text
       x="410.89059"
       y="587.55988"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#ffffff"
       id="text136">unsigned short es, ds, fsindex, gsindex</text>
    <text
       x="411.30411"
       y="595.04095"
       font-family="Arial"
       font-size="7px"
       fill="#ffffff"
       id="text137">/* Segment selectors */</text>
    <rect
       x="406.30411"
       y="603.04095"
       width="280"
       height="20"
       fill="#ab47bc"
       stroke="#9c27b0"
       stroke-width="1"
       rx="3"
       id="rect137" />
    <text
       x="410.89059"
       y="612.14636"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#ffffff"
       id="text138">unsigned long fsbase, gsbase</text>
    <text
       x="411.30411"
       y="620.04095"
       font-family="Arial"
       font-size="7px"
       fill="#ffffff"
       id="text139">/* Base addresses dos segmentos FS/GS */</text>
    <rect
       x="406.30411"
       y="628.04095"
       width="280"
       height="20"
       fill="#9c27b0"
       stroke="#9c27b0"
       stroke-width="1"
       rx="3"
       id="rect139" />
    <text
       x="412.13113"
       y="637.14636"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#ffffff"
       id="text140">struct fpu fpu</text>
    <text
       x="411.30411"
       y="645.04095"
       font-family="Arial"
       font-size="7px"
       fill="#ffffff"
       id="text141">/* Estado da FPU/SSE/AVX (xsave area) */</text>
    <rect
       x="406.30411"
       y="653.04095"
       width="280"
       height="20"
       fill="#7b1fa2"
       stroke="#9c27b0"
       stroke-width="1"
       rx="3"
       id="rect141" />
    <text
       x="411.30411"
       y="661.73285"
       font-family="mono"
       font-size="9px"
       font-weight="bold"
       fill="#ffffff"
       id="text142">struct perf_event *ptrace_bps[4]</text>
    <text
       x="411.30411"
       y="670.04095"
       font-family="Arial"
       font-size="7px"
       fill="#ffffff"
       id="text143">/* Hardware breakpoints para ptrace */</text>
  </g>
  <g
     id="g201"
     transform="translate(-17.54386,157.67251)">
    <text
       x="881.91724"
       y="387.2442"
       font-family="Arial"
       font-size="12px"
       font-weight="bold"
       text-anchor="middle"
       fill="#666666"
       id="text144">Kernel Stack @ 0xffffc90000120000</text>
    <rect
       x="781.91724"
       y="397.2442"
       width="200"
       height="300"
       fill="url(#stackPattern)"
       stroke="#666666"
       stroke-width="2"
       rx="6"
       id="rect144"
       style="fill:url(#pattern198)" />
    <text
       x="761.57947"
       y="415.96582"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text145"
       style="fill:#1a1a1a">8KB</text>
    <text
       x="761.57947"
       y="435.96582"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text146"
       style="fill:#1a1a1a">...</text>
    <text
       x="761.57947"
       y="685.96582"
       font-family="mono"
       font-size="8px"
       fill="#666666"
       id="text147"
       style="fill:#1a1a1a">+0x0</text>
    <rect
       x="791.91724"
       y="407.2442"
       width="180"
       height="30"
       fill="#f8f9fa"
       stroke="#666666"
       stroke-width="1"
       rx="3"
       id="rect147" />
    <text
       x="881.91724"
       y="420.56326"
       font-family="Arial"
       font-size="10px"
       text-anchor="middle"
       fill="#333333"
       id="text148">thread_info</text>
    <text
       x="881.91724"
       y="432.2442"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text149">/* No final da stack (stack bottom) */</text>
    <rect
       x="791.91724"
       y="442.2442"
       width="180"
       height="80"
       fill="#e9ecef"
       stroke="#666666"
       stroke-width="1"
       rx="3"
       id="rect149" />
    <text
       x="881.91724"
       y="462.2442"
       font-family="Arial"
       font-size="10px"
       text-anchor="middle"
       fill="#333333"
       id="text150">Kernel Stack Space</text>
    <text
       x="881.91724"
       y="477.2442"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text151"
       style="fill:#4d4d4d">/* Chamadas de função `kernel` */</text>
    <text
       x="881.91724"
       y="487.24423"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text152"
       style="fill:#4d4d4d">/* Variáveis locais */</text>
    <text
       x="881.91724"
       y="497.24423"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text153"
       style="fill:#4d4d4d">/* Registros salvos */</text>
    <text
       x="881.91724"
       y="507.24423"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text154"
       style="fill:#4d4d4d">/* Frames de interrupção */</text>
    <rect
       x="791.91724"
       y="527.2442"
       width="180"
       height="60"
       fill="#dee2e6"
       stroke="#666666"
       stroke-width="1"
       rx="3"
       id="rect154" />
    <text
       x="881.91724"
       y="547.2442"
       font-family="Arial"
       font-size="10px"
       text-anchor="middle"
       fill="#333333"
       id="text155">pt_regs</text>
    <text
       x="881.91724"
       y="562.2442"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text156"
       style="fill:#4d4d4d">/* Registros user salvos */</text>
    <text
       x="881.91724"
       y="572.2442"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text157"
       style="fill:#4d4d4d">/* no system call/interrupt */</text>
    <rect
       x="791.91724"
       y="592.2442"
       width="180"
       height="40"
       fill="#ced4da"
       stroke="#666666"
       stroke-width="1"
       rx="3"
       id="rect157" />
    <text
       x="881.91724"
       y="612.2442"
       font-family="Arial"
       font-size="10px"
       text-anchor="middle"
       fill="#333333"
       id="text158">IRQ Stack (opcional)</text>
    <text
       x="881.91724"
       y="622.2442"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text159"
       style="fill:#4d4d4d">/* Stack separada para IRQs */</text>
    <rect
       x="791.91724"
       y="637.2442"
       width="180"
       height="50"
       fill="#adb5bd"
       stroke="#666666"
       stroke-width="1"
       rx="3"
       id="rect159" />
    <text
       x="881.39142"
       y="655.14081"
       font-family="Arial"
       font-size="10px"
       text-anchor="middle"
       fill="#333333"
       id="text160">Stack Growth</text>
    <text
       x="881.91724"
       y="667.2442"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text161"
       style="fill:#333333">/* Cresce para baixo */</text>
    <text
       x="881.91724"
       y="677.2442"
       font-family="Arial"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text162"
       style="fill:#333333">/* RSP atual aqui */</text>
  </g>
  <path
     d="m 679.74993,723.31566 79.6483,0.40682"
     stroke="#333333"
     stroke-width="2"
     marker-end="url(#arrowhead)"
     id="path162" />
  <text
     x="691.6676"
     y="716.54865"
     font-family="Arial"
     font-size="9px"
     fill="#333333"
     id="text163">thread.sp</text>
  <!-- Memory Layout Overview -->
  <!-- Context Switch Flow -->
  <g
     id="g209"
     transform="translate(3.3774093,4.5032122)">
    <text
       x="1244.2864"
       y="748.07361"
       font-family="Arial"
       font-size="14px"
       font-weight="bold"
       text-anchor="middle"
       fill="#333333"
       id="text181">Fluxo do Context Switch</text>
    <rect
       x="1124.2864"
       y="758.07361"
       width="240"
       height="200"
       fill="#f8f9fa"
       stroke="#333333"
       stroke-width="2"
       rx="8"
       id="rect181" />
    <circle
       cx="1144.2864"
       cy="778.07361"
       r="8"
       fill="#dc3545"
       id="circle181" />
    <text
       x="1159.2864"
       y="783.07361"
       font-family="Arial"
       font-size="10px"
       fill="#333333"
       id="text182">1. Interrupção/System Call</text>
    <circle
       cx="1144.2864"
       cy="808.07361"
       r="8"
       fill="#fd7e14"
       id="circle182" />
    <text
       x="1159.2864"
       y="813.07361"
       font-family="Arial"
       font-size="10px"
       fill="#333333"
       id="text183">2. Salvar registros em pt_regs</text>
    <circle
       cx="1144.2864"
       cy="838.07361"
       r="8"
       fill="#ffc107"
       id="circle183" />
    <text
       x="1159.2864"
       y="843.07361"
       font-family="Arial"
       font-size="10px"
       fill="#333333"
       id="text184">3. __schedule() chamado</text>
    <circle
       cx="1144.2864"
       cy="868.07361"
       r="8"
       fill="#20c997"
       id="circle184" />
    <text
       x="1159.2864"
       y="873.07361"
       font-family="Arial"
       font-size="10px"
       fill="#333333"
       id="text185">4. Escolher próximo processo</text>
    <circle
       cx="1144.2864"
       cy="898.07361"
       r="8"
       fill="#0d6efd"
       id="circle185" />
    <text
       x="1159.2864"
       y="903.07361"
       font-family="Arial"
       font-size="10px"
       fill="#333333"
       id="text186">5. switch_to() - troca CR3/RSP</text>
    <circle
       cx="1144.2864"
       cy="928.07361"
       r="8"
       fill="#6f42c1"
       id="circle186" />
    <text
       x="1159.2864"
       y="933.07361"
       font-family="Arial"
       font-size="10px"
       fill="#333333"
       id="text187">6. Restaurar contexto e continuar</text>
  </g>
  <!-- Additional notes -->
  <text
     x="44.660881"
     y="892.49915"
     font-family="Arial"
     font-size="11px"
     font-weight="bold"
     fill="#333333"
     id="text188">Notas Importantes:</text>
  <text
     x="44.660881"
     y="912.49915"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text189">• O task_struct é alocado via kmalloc() ou slab allocator no `kernel` heap</text>
  <text
     x="44.660881"
     y="927.49915"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text190">• `kernel` stack é alocada junto com thread_info (historicamente no topo, hoje no final)</text>
  <text
     x="44.660881"
     y="942.49915"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text191">• Context switch preserva apenas registros callee-saved, caller-saved são perdidos</text>
  <text
     x="44.660881"
     y="957.49915"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text192">• STAC/CLAC e SMEP/SMAP protegem contra acesso user/kernel inadequado</text>
  <text
     x="44.660881"
     y="972.49915"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text193">• Per-CPU variables reduzem contenção e cache misses em sistemas SMP</text>
  <text
     x="455.7612"
     y="911.33893"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text194">• mm_struct é compartilhada entre threads do mesmo processo</text>
  <text
     x="455.7612"
     y="926.33893"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text195">• files_struct pode ser compartilhada via CLONE_FILES</text>
  <text
     x="455.7612"
     y="941.33893"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text196">• signal_struct é sempre compartilhada no mesmo thread group</text>
  <text
     x="455.7612"
     y="956.33893"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text197">• FPU context é lazy-switched para performance</text>
  <text
     x="455.7612"
     y="971.33893"
     font-family="Arial"
     font-size="10px"
     fill="#666666"
     id="text198">• RCU protege estruturas compartilhadas durante context switch</text>
  <text
     x="1248.5618"
     y="68.493004"
     font-family="Arial"
     font-size="14px"
     font-weight="bold"
     text-anchor="middle"
     fill="#333333"
     id="text4">Layout de Memória Virtual</text>
  <rect
     x="1119.306"
     y="86.184319"
     width="260"
     height="520"
     fill="#f8f9fa"
     stroke="#333333"
     stroke-width="2"
     rx="8"
     id="rect4" />
  <rect
     x="1129.306"
     y="96.184319"
     width="240"
     height="120"
     fill="url(#kernelGradient)"
     stroke="#333333"
     stroke-width="1"
     rx="4"
     id="rect5"
     style="fill:url(#kernelGradient)" />
  <text
     x="1249.306"
     y="116.18432"
     font-family="Arial"
     font-size="12px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text5">Kernel Space</text>
  <text
     x="1139.306"
     y="136.18431"
     font-family="mono"
     font-size="10px"
     fill="#ffffff"
     id="text6">0xffff800000000000</text>
  <text
     x="1139.306"
     y="151.18431"
     font-family="mono"
     font-size="10px"
     fill="#ffffff"
     id="text7">0xffffffffffffffff</text>
  <rect
     x="1135.5806"
     y="160.16768"
     width="222.57433"
     height="15.351124"
     fill="#e91e63"
     stroke="#e91e63"
     stroke-width="0.781114"
     rx="2.3847246"
     id="rect118-3"
     style="stroke:#d40000;filter:url(#filter207)" />
  <text
     x="1139.306"
     y="171.18431"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text8">• Direct mapping</text>
  <text
     x="1139.306"
     y="184.18431"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text9">• vmalloc area</text>
  <text
     x="1139.306"
     y="197.18431"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text10">• `kernel` text/data</text>
  <text
     x="1139.306"
     y="210.18431"
     font-family="Arial"
     font-size="9px"
     fill="#ffffff"
     id="text11-8">• Per-CPU areas</text>
  <rect
     x="1129.306"
     y="221.18431"
     width="240"
     height="30"
     fill="#6c757d"
     stroke="#333333"
     stroke-width="1"
     rx="4"
     id="rect11-2" />
  <text
     x="1249.306"
     y="233.5703"
     font-family="Arial"
     font-size="11px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text12-4">Non-canonical</text>
  <text
     x="1139.306"
     y="245.18431"
     font-family="mono"
     font-size="9px"
     fill="#ffffff"
     id="text13-5">0x0000800000000000 - 0xffff7fffffffffff</text>
  <rect
     x="1129.306"
     y="256.18433"
     width="240"
     height="320"
     fill="url(#userGradient)"
     stroke="#333333"
     stroke-width="1"
     rx="4"
     id="rect13"
     style="fill:url(#userGradient)" />
  <text
     x="1249.306"
     y="276.18433"
     font-family="Arial"
     font-size="12px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text14-5">User Space</text>
  <text
     x="1139.306"
     y="296.18433"
     font-family="mono"
     font-size="10px"
     fill="#ffffff"
     id="text15-1">0x0000000000000000</text>
  <text
     x="1139.306"
     y="311.18433"
     font-family="mono"
     font-size="10px"
     fill="#ffffff"
     id="text16-7">0x00007fffffffffff</text>
  <rect
     x="1139.306"
     y="326.18433"
     width="220"
     height="35"
     fill="#4caf50"
     stroke="#2e7d32"
     stroke-width="1"
     rx="3"
     id="rect16" />
  <text
     x="1149.5542"
     y="337.71082"
     font-family="Arial"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text17-1">Stack (top)</text>
  <text
     x="1149.058"
     y="347.71082"
     font-family="mono"
     font-size="8px"
     fill="#ffffff"
     id="text18-1">0x00007fffffffffff</text>
  <text
     x="1149.306"
     y="358.18433"
     font-family="Arial"
     font-size="8px"
     fill="#ffffff"
     id="text19-5">/* Cresce para baixo */</text>
  <rect
     x="1139.306"
     y="366.18433"
     width="220"
     height="35"
     fill="#43a047"
     stroke="#2e7d32"
     stroke-width="1"
     rx="3"
     id="rect19" />
  <text
     x="1149.306"
     y="378.70325"
     font-family="Arial"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text20-2">Memory mappings</text>
  <text
     x="1149.8022"
     y="388.70325"
     font-family="mono"
     font-size="8px"
     fill="#ffffff"
     id="text21-7">0x00007f0000000000</text>
  <text
     x="1149.306"
     y="398.18433"
     font-family="Arial"
     font-size="8px"
     fill="#ffffff"
     id="text22-6">/* mmap, shared libs */</text>
  <rect
     x="1139.306"
     y="406.18433"
     width="220"
     height="35"
     fill="#388e3c"
     stroke="#2e7d32"
     stroke-width="1"
     rx="3"
     id="rect22" />
  <text
     x="1149.306"
     y="418.70325"
     font-family="Arial"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text23-1">Heap</text>
  <text
     x="1149.058"
     y="428.95135"
     font-family="mono"
     font-size="8px"
     fill="#ffffff"
     id="text24-4">~0x0000000000602000</text>
  <text
     x="1149.306"
     y="438.18433"
     font-family="Arial"
     font-size="8px"
     fill="#ffffff"
     id="text25-2">/* malloc, brk/sbrk */</text>
  <rect
     x="1139.306"
     y="446.18433"
     width="220"
     height="30"
     fill="#2e7d32"
     stroke="#2e7d32"
     stroke-width="1"
     rx="3"
     id="rect25" />
  <text
     x="1149.306"
     y="461.18433"
     font-family="Arial"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text26-3">BSS</text>
  <text
     x="1149.306"
     y="471.18433"
     font-family="mono"
     font-size="8px"
     fill="#ffffff"
     id="text27-2">~0x0000000000601000</text>
  <text
     x="1249.306"
     y="471.18433"
     font-family="Arial"
     font-size="8px"
     fill="#ffffff"
     id="text28-2">/* Uninitialized data */</text>
  <rect
     x="1139.306"
     y="481.18433"
     width="220"
     height="30"
     fill="#1b5e20"
     stroke="#2e7d32"
     stroke-width="1"
     rx="3"
     id="rect28-1" />
  <text
     x="1149.306"
     y="496.18433"
     font-family="Arial"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text29-6">Data</text>
  <text
     x="1149.306"
     y="506.18433"
     font-family="mono"
     font-size="8px"
     fill="#ffffff"
     id="text30-8">~0x0000000000600000</text>
  <text
     x="1249.306"
     y="506.18433"
     font-family="Arial"
     font-size="8px"
     fill="#ffffff"
     id="text31-5">/* Initialized data */</text>
  <rect
     x="1139.306"
     y="516.18433"
     width="220"
     height="35"
     fill="#0d5016"
     stroke="#2e7d32"
     stroke-width="1"
     rx="3"
     id="rect31" />
  <text
     x="1149.306"
     y="528.70325"
     font-family="Arial"
     font-size="10px"
     font-weight="bold"
     fill="#ffffff"
     id="text32-7">Text (code)</text>
  <text
     x="1149.8022"
     y="538.70325"
     font-family="mono"
     font-size="8px"
     fill="#ffffff"
     id="text33-6">0x0000000000400000</text>
  <text
     x="1149.306"
     y="548.18433"
     font-family="Arial"
     font-size="8px"
     fill="#ffffff"
     id="text34-1">/* Executable code */</text>
  <rect
     x="1139.306"
     y="556.18433"
     width="220"
     height="15"
     fill="#263238"
     stroke="#2e7d32"
     stroke-width="1"
     rx="3"
     id="rect34-8" />
  <text
     x="1149.306"
     y="566.18433"
     font-family="Arial"
     font-size="9px"
     font-weight="bold"
     fill="#ffffff"
     id="text35-9">NULL/Reserved</text>
  <text
     x="1249.306"
     y="566.18433"
     font-family="mono"
     font-size="8px"
     fill="#ffffff"
     id="text36-2">0x0000000000000000</text>
  <rect
     x="1129.306"
     y="611.18433"
     width="240"
     height="40"
     fill="#ffc107"
     stroke="#333333"
     stroke-width="1"
     rx="4"
     id="rect36-7" />
  <text
     x="1249.306"
     y="628.18433"
     font-family="Arial"
     font-size="11px"
     font-weight="bold"
     text-anchor="middle"
     fill="#333333"
     id="text37-9">KASLR/ASLR</text>
  <text
     x="1249.306"
     y="640.18433"
     font-family="Arial"
     font-size="9px"
     text-anchor="middle"
     fill="#333333"
     id="text38-5">Randomização de layout</text>
  <text
     x="1249.306"
     y="650.18433"
     font-family="Arial"
     font-size="9px"
     text-anchor="middle"
     fill="#333333"
     id="text39-4">para segurança</text>
  <text
     x="-116.18435"
     y="1114.306"
     font-family="mono"
     font-size="8px"
     fill="#666"
     transform="rotate(-90)"
     id="text40-3"
     style="fill:#000000">High</text>
  <text
     x="-556.18433"
     y="1114.306"
     font-family="mono"
     font-size="8px"
     fill="#666"
     transform="rotate(-90)"
     id="text41-1"
     style="fill:#000000">Low</text>
  <text
     x="1249.306"
     y="81.184319"
     font-family="Arial"
     font-size="9px"
     text-anchor="middle"
     fill="#666666"
     id="text42-2">(x86_64 - 48-bit virtual addressing)</text>
  <path
     d="m 1049.9779,168.39577 h 76.0194"
     stroke="#4caf50"
     stroke-width="2.02571"
     marker-end="url(#arrowhead-4)"
     id="path62-1"
     style="fill:#ff2a2a;stroke:#ff2a2a;stroke-width:2.1012;stroke-dasharray:none;marker-end:url(#Triangle)" />
  <text
     xml:space="preserve"
     style="font-size:13.6996px;line-height:1.25;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:center;writing-mode:vertical-lr;text-anchor:middle;stroke-width:1.52217"
     x="-145.87593"
     y="1081.1099"
     id="text210"
     transform="matrix(0.01532873,-0.99556878,1.0042231,0.01480052,0,0)"><tspan
       sodipodi:role="line"
       id="tspan210"
       x="-145.87593"
       y="1081.1099"
       style="stroke-width:1.52217">PCB</tspan></text>
</svg>
